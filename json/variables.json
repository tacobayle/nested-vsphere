{
  "gw": {
    "cpu": 4,
    "memory": 4096,
    "disk": "40G"
  },
  "K8s_version_short": "v1.28",
  "directories": ["esxi","yaml-files", ".kube", "openssl", "routes", "vault", "traffic_gen", "lbaas", "tkgm", "tkgm/workload_clusters", "tkgm/mgmt_cluster", "tkgm/bin", "tkc", "unmanaged_k8s_clusters", "templates", "bin", "k8s", "python", ".ssh"],
  "folders_to_copy": ["vcenter", "nsx", "avi", "app", "tanzu", "templates", "bash", "json"],
  "apt_packages": ["vault", "python3-pip", "jq", "unzip", "expect", "python3-jmespath", "sshpass", "nginx", "chrony", "bind9", "bind9utils", "dnsutils", "xorriso", "expect", "iptables-persistent"],
  "pip3_packages": ["ansible-core==2.12.5", "ansible==5.7.1", "avisdk", "gunicorn", "dnspython", "netaddr", "yq==3.2.2", "flask", "flask_restful", "flask_cors", "pyvmomi"],
  "yaml_folder": "yaml-files",
  "yaml_links": [
    "https://raw.githubusercontent.com/tacobayle/k8sYaml/master/mixed-protocols-app/mixed-protocols-svc-app.yml",
    "https://raw.githubusercontent.com/tacobayle/k8sYaml/master/sctp_cnf/sctp-cnf.yml",
    "https://raw.githubusercontent.com/tacobayle/k8sYaml/master/sctp_cnf/sctp-client.yml",
    "https://raw.githubusercontent.com/tacobayle/k8sYaml/master/demo-http-apps/demo-http-apps.yml",
    "https://raw.githubusercontent.com/tacobayle/k8sYaml/master/demo-http-apps/demo-http-ingress.yml",
    "https://raw.githubusercontent.com/tacobayle/k8sYaml/master/demo-http-apps/demo-http-ingress-np.yml",
    "https://raw.githubusercontent.com/tacobayle/k8sYaml/master/demo-http-apps/demo-http-crd-1.yml",
    "https://raw.githubusercontent.com/tacobayle/k8sYaml/master/demo-http-apps/demo-http-crd-2.yml",
    "https://raw.githubusercontent.com/tacobayle/k8sYaml/master/demo-http-apps/demo-http-crd-3.yml",
    "https://raw.githubusercontent.com/tacobayle/k8sYaml/master/demo-http-apps/demo-svc-LB-1.yml",
    "https://raw.githubusercontent.com/tacobayle/k8sYaml/master/demo-http-apps/demo-svc-LB-2.yml",
    "https://raw.githubusercontent.com/tacobayle/k8sYaml/master/demo-http-apps/demo-svc-LB-3.yml",
    "https://raw.githubusercontent.com/tacobayle/k8sYaml/master/demo-http-apps/demo-svc-nodeport-1.yml",
    "https://raw.githubusercontent.com/tacobayle/k8sYaml/master/demo-http-apps/demo-svc-nodeport-2.yml",
    "https://raw.githubusercontent.com/tacobayle/k8sYaml/master/demo-http-apps/demo-svc-nodeport-3.yml",
    "https://raw.githubusercontent.com/tacobayle/k8sYaml/master/demo-http-apps/demo-gw-single-listener.yml",
    "https://raw.githubusercontent.com/tacobayle/k8sYaml/master/demo-http-apps/demo-gw-multiple-listeners.yml",
    "https://raw.githubusercontent.com/tacobayle/k8sYaml/master/demo-http-apps/demo-gw-http-route-1.yml",
    "https://raw.githubusercontent.com/tacobayle/k8sYaml/master/demo-http-apps/demo-gw-http-route-2.yml",
    "https://raw.githubusercontent.com/tacobayle/k8sYaml/master/demo-http-apps/demo-gw-http-route-3.yml",
    "https://raw.githubusercontent.com/tacobayle/k8sYaml/master/demo-http-apps/demo-gw-http-route-multiple-1-2.yml",
    "https://raw.githubusercontent.com/tacobayle/k8sYaml/master/demo-http-apps/demo-gw-http-route-1_based-on-np.yml",
    "https://raw.githubusercontent.com/tacobayle/k8sYaml/master/demo-http-apps/demo-gw-http-route-2_based-on-np.yml",
    "https://raw.githubusercontent.com/tacobayle/k8sYaml/master/demo-http-apps/demo-gw-http-route-3_based-on-np.yml",
    "https://raw.githubusercontent.com/tacobayle/k8sYaml/master/demo-http-apps/demo-gw-http-route-multiple-1-2_based-on-np.yml"
  ],
  "vault": {
    "control_script": {
      "name": "vault_control_script",
      "path": "/home/ubuntu/templates/control-script-vault.py"
    },
    "certificate_mgmt_profile": {
      "name": "vault_cert_profile"
    },
    "secret_file_path": "/home/ubuntu/vault/secret.json",
    "pki": {
      "name": "pki",
      "max_lease_ttl": "87600h",
      "cert":{
        "common_name": "vault.com",
        "issuer_name": "vault_demoavi",
        "ttl": "87600h",
        "path": "/home/ubuntu/vault/ca.crt"
      },
      "issuers_file": "/home/ubuntu/vault/ca_issuers.json",
      "role": {
        "name": "role-pki-ca"
      }
    },
    "pki_intermediate": {
      "name": "pki_int",
      "max_lease_ttl": "43800h",
      "cert":{
        "common_name": "intermediate-vault.com",
        "issuer_name": "demoavi",
        "path": "/home/ubuntu/vault/pki_intermediate.csr",
        "path_signed": "/home/ubuntu/vault/pki_intermediate.cert.pem"
      },
      "role": {
        "name": "pki_intermediate_role",
        "allow_subdomains": true,
        "max_ttl": "1440h"
      }
    }
  },
  "dc": "dc01",
  "cluster_basename": "cluster0",
  "esxi_basename": "esxi0",
  "vcsa_name": "vcsa-01",
  "vds_switches": [
    {
      "name": "vds1",
      "discovery_protocol": "lldp",
      "version": "7.0.2",
      "mtu": 1500,
      "pnic": "vmnic0"
    }
  ],
  "port_groups": [
    {
      "name": "mgmt",
      "vds_ref": "vds1",
      "type": "MANAGEMENT",
      "scope": "mgmt"
    },
    {
      "name": "mgmt-vmk",
      "vds_ref": "vds1",
      "vmk": "vmk3",
      "old_vmk": "vmk0",
      "type": "MANAGEMENT"
    },
    {
      "name": "VSAN",
      "vds_ref": "vds1",
      "vmk": "vmk4",
      "old_vmk": "vmk2",
      "type": "VSAN"
    },
    {
      "name": "vMotion",
      "vds_ref": "vds1",
      "vmk": "vmk5",
      "old_vmk": "vmk1",
      "type": "VMOTION"
    }
  ],
  "port_groups_vsphere_avi": [
    {
      "name": "avi-se-mgmt",
      "vds_ref": "vds1"
    },
    {
      "name": "avi-app-backend",
      "vds_ref": "vds1"
    },
    {
      "name": "avi-vip",
      "vds_ref": "vds1"
    },
    {
      "name": "tanzu",
      "vds_ref": "vds1"
    }
  ],
  "port_groups_nsx": [
    {
      "name": "nsx-external",
      "vds_ref": "vds1"
    },
    {
      "name": "nsx-overlay",
      "vds_ref": "vds1"
    },
    {
      "name": "nsx-overlay-edge",
      "vds_ref": "vds1"
    }
  ],
  "disks": {
    "capacity": "mpx.vmhba0:C0:T2:L0",
    "cache": "mpx.vmhba0:C0:T1:L0"
  },
  "avi_folder": "avi-ctrl",
  "avi_ctrl_name": "avi-ctrl-01",
  "avi_slack": {
    "name": "avi-slack",
    "path": "/home/ubuntu/python/control-script-avi-slack.py"
  },
  "tenants": [
    {
      "name": "automation",
      "local": true,
      "config_settings": {
        "tenant_vrf": false,
        "se_in_provider_context": true,
        "tenant_access_to_provider_se": true
      }
    }
  ],
  "users": [
    {
      "username": "automation",
      "name": "automation",
      "is_superuser": true,
      "default_tenant_ref": "",
      "access": [],
      "user_profile_ref": "/api/useraccountprofile?name=Default-User-Account-Profile"
    }
  ],
  "avi_content_library_name": "content_library_avi_se",
  "avi_subdomain" : "app",
  "avi_config_repo": "https://github.com/tacobayle/ansibleAviConfig",
  "playbook_vcenter": "vcenter.yml",
  "tag_vcenter": "v2.27",
  "service_engine_groups": [
    {
      "name": "Default-Group",
      "buffer_se": 0,
      "ha_mode": "HA_MODE_SHARED",
      "min_scaleout_per_vs": 1,
      "vcenter_folder": "seg-Default-Group",
      "extra_shared_config_memory": 0,
      "vcpus_per_se": 2,
      "memory_per_se": 2048,
      "disk_per_se": 25,
      "realtime_se_metrics": {
        "enabled": true,
        "duration": 0
      }
    },
    {
      "name": "private",
      "ha_mode": "HA_MODE_SHARED_PAIR",
      "algo": "PLACEMENT_ALGO_PACKED",
      "min_scaleout_per_vs": 2,
      "vcenter_folder": "seg-private",
      "buffer_se": 0,
      "extra_shared_config_memory": 0,
      "vcpus_per_se": 2,
      "memory_per_se": 2048,
      "disk_per_se": 25,
      "realtime_se_metrics": {
        "enabled": true,
        "duration": 0
      }
    },
    {
      "name": "public",
      "ha_mode": "HA_MODE_SHARED_PAIR",
      "algo": "PLACEMENT_ALGO_PACKED",
      "min_scaleout_per_vs": 2,
      "vcenter_folder": "seg-public",
      "buffer_se": 0,
      "extra_shared_config_memory": 0,
      "vcpus_per_se": 3,
      "memory_per_se": 4096,
      "disk_per_se": 50,
      "realtime_se_metrics": {
        "enabled": true,
        "duration": 0
      }
    }
  ],
  "folder_app": "app-vms",
  "folder_client": "client-vms",
  "app_basename": "app0",
  "app_basename_second": "app1",
  "client_basename": "client0",
  "k8s_basename": "cluster0",
  "k8s_basename_vm": "node0",
  "k8s_node_cpu": 4,
  "k8s_node_memory": 8192,
  "k8s_node_disk": 40,
  "k8s_apt_packages": ["jq"],
  "docker_version": "5:24.0.2-1~ubuntu.20.04~focal",
  "pod_cidr": "192.168.0.0/16",
  "app_apt_packages": ["docker.io", "apache2", "jq"],
  "docker_registry_repo_default_app" : "tacobayle/avi_app",
  "app_tcp_default" : 8080,
  "docker_registry_repo_waf" : "mutzel/all-in-one-hackazon:postinstall",
  "app_tcp_waf" : 8081,
  "app_cpu": 2,
  "app_memory": 2048,
  "client_cpu": 2,
  "client_memory": 2048,
  "nsx": {
    "folder": "nsx-manager",
    "manager_name": "nsx-manager-01",
    "config" : {
      "edge_node": {
        "size": "medium",
        "basename": "edge-0",
        "description": "number of edge deployed based on .vsphere_underlay.networks.vsphere.management.nsx_edge_nested_ips"
      },
      "edge_clusters":
      [
        {
          "display_name": "edge-cluster-01",
          "members_name": [
            "edge-01",
            "edge-02"
          ]
        }
      ],
      "tier0s":
      [
        {
          "display_name": "tier0",
          "edge_cluster_name": "edge-cluster-01"
        }
      ],
      "tier1s":
      [
        {
          "tier0": "tier0",
          "display_name": "tier1-01",
          "edge_cluster_name": "edge-cluster-01",
          "ha_mode": "ACTIVE_STANDBY",
          "lb": true
        },
        {
          "tier0": "tier0",
          "display_name": "tier1-02"
        },
        {
          "tier0": "tier0",
          "display_name": "tier1-03"
        }
      ],
      "segments_overlay":
      [
        {
          "display_name": "segment-mgmt-avi",
          "tier1": "tier1-01",
          "dhcp_ranges": ["50-99"]
        },
        {
          "display_name": "segment-mgmt-tanzu-supervisor",
          "tier1": "tier1-01",
          "tanzu_supervisor_starting_ip": "130",
          "tanzu_supervisor_count": 5,
          "dhcp_ranges": ["50-99"]
        },
        {
          "display_name": "segment-server-1",
          "tier1": "tier1-01",
          "dhcp_ranges": ["50-99"],
          "app_ips": ["11", "12"],
          "lbaas_private": true
        },
        {
          "display_name": "segment-server-2",
          "tier1": "tier1-01",
          "dhcp_ranges": ["50-99"],
          "app_ips": ["11"],
          "lbaas_public": true
        },
        {
          "display_name": "segment-vip-1",
          "tier1": "tier1-01",
          "dhcp_ranges": ["50-99"]
        },
        {
          "display_name": "segment-vip-2",
          "tier1": "tier1-02",
          "dhcp_ranges": ["50-99"]
        }
      ],
      "segment_overlay_file": "/home/ubuntu/nsx/segments_overlay.json"
    }
  },
  "tanzu": {
    "cert": "tanzu-cert",
    "supervisor_cluster": {
      "size": "TINY",
      "service_cidr": "10.96.0.0/23"
    },
    "content_library": {
      "subscription_url": "https://wp-content.vmware.com/v2/latest/lib.json",
      "name": "tanzu-cl",
      "type": "SUBSCRIBED",
      "automatic_sync_enabled": true,
      "on_demand": true
    },
    "storage_policy_name": "vSAN Default Storage Policy",
    "vm_classes": [
      "best-effort-2xlarge",
      "guaranteed-small",
      "best-effort-4xlarge",
      "best-effort-8xlarge",
      "best-effort-xsmall",
      "guaranteed-large",
      "guaranteed-medium",
      "best-effort-large",
      "best-effort-medium",
      "best-effort-xlarge",
      "guaranteed-2xlarge",
      "guaranteed-4xlarge",
      "best-effort-small",
      "guaranteed-8xlarge",
      "guaranteed-xlarge",
      "guaranteed-xsmall"
    ],
    "namespaces": [
      {
        "name": "ns1"
      },
      {
        "name": "ns2",
        "namespace_cidr": "100.100.66.0/23",
        "namespace_tier0": "tier0",
        "prefix_per_namespace": "26",
        "ingress_cidr": "100.100.134.0/24"
      },
      {
        "name": "ns3"
      }
    ],
    "tkc_clusters": [
      {
        "name": "ns1-cluster-1-provider",
        "namespace_ref": "ns1",
        "k8s_version": "v1.28.8---vmware.1-fips.1-tkg.2",
        "control_plane_count": 1,
        "vm_class": "best-effort-small",
        "workers_count": 1,
        "services_cidrs": ["10.97.0.0/24"],
        "pods_cidrs": ["10.245.0.0/21"],
        "avi_tenant_name": "ns1",
        "avi_tenant_type": "provider-mode"
      },
      {
        "name": "ns2-cluster-1-tenant",
        "namespace_ref": "ns2",
        "k8s_version": "v1.28.8---vmware.1-fips.1-tkg.2",
        "control_plane_count": 1,
        "vm_class": "best-effort-small",
        "workers_count": 1,
        "services_cidrs": ["10.97.0.0/24"],
        "pods_cidrs": ["10.245.0.0/21"],
        "avi_tenant_name": "ns2",
        "avi_tenant_type": "tenant-mode"
      },
      {
        "name": "ns3-cluster-1",
        "namespace_ref": "ns3",
        "k8s_version": "v1.28.8---vmware.1-fips.1-tkg.2",
        "control_plane_count": 1,
        "vm_class": "best-effort-small",
        "workers_count": 1,
        "services_cidrs": ["10.97.0.0/24"],
        "pods_cidrs": ["10.245.0.0/21"]
      }
    ]
  }
}